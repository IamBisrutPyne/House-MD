<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>House M.D. ‚Äî Fan Landing Page</title>
    <meta name="description" content="A fan-made, production-ready landing page for the TV series House M.D. ‚Äî interactive, responsive, accessible." />

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;700;900&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="https://static.wikia.nocookie.net/house/images/4/4a/Site-favicon.ico">
    <style>
        /* ---------------------------------------------
       Theme, variables and basic reset
       ---------------------------------------------*/
        :root {
            --bg: #0f1724;
            --card: rgba(255, 255, 255, 0.04);
            --muted: rgba(255, 255, 255, 0.65);
            --accent: #e04f5f;
            /* blood-ish */
            --accent-2: #2bd4c6;
            /* teal for diagnostics */
            --glass: rgba(255, 255, 255, 0.06);
            --glass-strong: rgba(255, 255, 255, 0.1);
            --max-width: 1100px;
            --radius: 14px;
            --shadow: 0 8px 30px rgba(0, 0, 0, 0.6);
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            font-family: 'Nunito', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            background: radial-gradient(1200px 600px at 10% 10%, rgba(224, 79, 95, 0.06), transparent),
                linear-gradient(180deg, #07101a 0%, var(--bg) 60%);
            color: #e6edf3;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.45;
        }

        img {
            max-width: 100%;
            display: block;
        }

        a {
            color: var(--accent);
            text-decoration: none;
        }

        .container {
            width: min(95%, var(--max-width));
            margin: 0 auto;
        }

        header {
            padding: 24px 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .logo .mark {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent), #ff7a8a);
            display: grid;
            place-items: center;
            font-weight: 900;
            font-family: 'Playfair Display';
            font-size: 20px;
            box-shadow: var(--shadow);
        }

        nav {
            display: flex;
            gap: 18px;
            align-items: center
        }

        nav a {
            color: var(--muted);
            text-decoration: none;
            font-weight: 700
        }

        /* Hero */
        .hero {
            background-image: url('background.jpeg');
            background-size: cover;
            /* Scales image to cover container */
            background-position: center;
            /* Centers the image */
            background-repeat: no-repeat;
            /* No tiling */

            width: 100%;
            /* Prevent horizontal overflow */
            height: 100vh;
            /* Full viewport height */

            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 28px;
            align-items: center;

            border-radius: 20px;
            /* Rounded corners */
            overflow: hidden;
            /* Ensures background respects border-radius */
            box-sizing: border-box;
            /* Prevents extra width from padding/border */
            margin: 0;
            /* Remove default margin */
        }

        .hero-card {
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.02));
            border-radius: var(--radius);
            padding: 28px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(6px);
        }

        h1 {
            font-family: 'Playfair Display';
            font-size: 42px;
            margin: 0 0 6px 0;
            letter-spacing: -0.5px
        }

        .subtitle {
            color: var(--muted);
            margin-bottom: 18px
        }

        /* ECG line / animated waveform */
        .ecg-wrap {
            position: relative;
            padding: 18px 0;
        }

        .ecg {
            width: 100%;
            height: 78px;
            border-radius: 8px;
            display: block;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.03);

            /* 1. ECG Mesh Grid Background */
            background-color: #111;
            /* Dark background color */
            background-image:
                /* Vertical lines (gray) */
                linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                /* Horizontal lines (gray) */
                linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);

            /* 2. Grid Spacing: 15px boxes */
            background-size: 15px 15px;
        }

        .ecg svg {
            /* KEY FOR RESPONSIVENESS: */
            /* Ensure the SVG itself fills its container */
            width: 100%;
            height: 100%;
            display: block;

            /* Ensure the waveform color remains visible */
            z-index: 2;
            position: relative;
        }

        /* Optional: Subtle glow effect behind the ECG line */
        .ecg svg path {
            filter: drop-shadow(0 0 3px var(--accent-2));
        }


        /* small stat blocks */
        .stats {
            display: flex;
            gap: 10px;
            margin-top: 14px
        }

        .stat {
            background: var(--glass);
            padding: 10px 12px;
            border-radius: 10px;
            text-align: center;
            flex: 1
        }

        .stat .n {
            font-weight: 800;
            font-size: 18px
        }

        .stat .l {
            font-size: 12px;
            color: var(--muted)
        }

        /* Characters grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 18px
        }

        .card {
            background: var(--card);
            padding-bottom: 16px;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.03)
        }

        .meta {
            padding-top: 12px
        }

        .meta h3 {
            margin: 0;
            font-size: 18px;
            align-items: center;
        }

        .meta p {
            margin: 6px 0 0 0;
            color: var(--muted);
            font-size: 14px
        }

        /* modal */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(3, 6, 10, 0.6);
            display: none;
            place-items: center;
            padding: 20px
        }

        .modal.open {
            display: grid
        }

        .modal .panel {
            width: min(820px, 95%);
            background: linear-gradient(180deg, #07131a, #0e1b25);
            padding: 22px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.04)
        }

        .close {
            position: absolute;
            right: 14px;
            top: 10px;
            background: none;
            border: 0;
            color: var(--muted);
            font-weight: 800
        }

        /* Episodes / search */
        .searchbar {
            display: flex;
            gap: 10px
        }

        .searchbar input {
            flex: 1;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.04);
            background: transparent;
            color: inherit
        }

        .episodes {
            margin-top: 18px;
            display: grid;
            gap: 10px
        }

        .episode {
            padding: 12px;
            border-radius: 8px;
            background: var(--glass);
            display: flex;
            justify-content: space-between;
            align-items: center
        }

        .episode small {
            color: var(--muted)
        }

        /* mini interactive diagnostic */
        .diagnostic {
            margin-top: 18px;
            padding: 16px;
            border-radius: 12px;
            background: linear-gradient(90deg, rgba(43, 212, 198, 0.04), rgba(224, 79, 95, 0.02));
            border: 1px solid rgba(255, 255, 255, 0.03)
        }

        .btn {
            display: inline-block;
            padding: 10px 14px;
            border-radius: 10px;
            background: linear-gradient(90deg, var(--accent), #ff8a93);
            color: #fff;
            font-weight: 800;
            text-decoration: none;
            border: 0;
            cursor: pointer
        }

        footer {
            padding: 28px 0 80px 0;
            color: var(--muted)
        }

        /* responsiveness */
        @media (max-width:900px) {
            .hero {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 32px
            }
        }

        /* small animation touches */
        .float {
            animation: float 4s ease-in-out infinite
        }

        @keyframes float {
            0% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(-6px)
            }

            100% {
                transform: translateY(0)
            }
        }

        /* subtle pulse for accent */
        .ping {
            position: relative
        }

        .ping::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            box-shadow: 0 0 0 0 rgba(224, 79, 95, 0.25);
            animation: ping 2.2s infinite
        }

        @keyframes ping {
            0% {
                box-shadow: 0 0 0 0 rgba(224, 79, 95, 0.12)
            }

            70% {
                box-shadow: 0 0 0 14px rgba(224, 79, 95, 0)
            }

            100% {
                box-shadow: 0 0 0 0 rgba(224, 79, 95, 0)
            }
        }

        /* accessibility focus */
        :focus {
            outline: 3px solid rgba(43, 212, 198, 0.12);
            outline-offset: 2px
        }

        .character-card {
            display: flex;
            flex-direction: column;
            align-items: center !important;
            /* Centers image + text horizontally */
            justify-content: center;
            text-align: center;
            /* Centers text under the image */
            /* background: rgba(255, 255, 255, 0.05);  Subtle translucent background */
            backdrop-filter: blur(8px);
            /* Soft glass effect */
            border-radius: 20px;
            padding-top: 16px;
            padding-right: 0;
            /* padding-left: 16px; */

            /* padding-left: 20px; */
            /* padding-right: 20px; */
            width: auto;
            /* Consistent card size */
            /* margin: 20px; */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            /* box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25); */
        }

        /* Hover lift for a premium look */
        .character-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(0, 174, 255, 0.3);
        }

        /* Character image (paste the earlier code here) */
        .character-img {
            width: 200px;
            height: 260px;
            object-fit: cover;
            border: 3px solid rgba(255, 255, 255, 0.4);
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: block;
            margin-bottom: 15px;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .character-img:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.3),
                0 0 20px rgba(0, 174, 255, 0.4);
            border-color: rgba(0, 174, 255, 0.6);
        }

        /* Character name */
        .character-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: #fff;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
            text-align: center;
        }

        /* Muted text under the name (e.g. role or actor) */
        .character-role {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.65);
            font-style: italic;
            text-align: center;

        }

        .diagnostic-game {
            padding: 50px 20px;
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            color: #fff;
            text-align: center;
        }

        .diagnostic-game h2 {
            font-size: 2.2rem;
            margin-bottom: 30px;
            letter-spacing: 1px;
        }

        #game-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 25px rgba(0, 174, 255, 0.3);
        }

        .patient-info h3 {
            margin-bottom: 10px;
            font-size: 1.5rem;
            color: #00aeff;
        }

        .patient-info p {
            font-style: italic;
            margin-bottom: 10px;
        }

        .patient-info ul {
            list-style: none;
            padding: 0;
            margin-bottom: 15px;
        }

        .options-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .option-btn {
            background: rgba(0, 174, 255, 0.2);
            border: 2px solid #00aeff;
            color: #fff;
            padding: 12px 18px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s, background 0.2s, box-shadow 0.2s;
        }

        .option-btn:hover {
            transform: scale(1.05);
            background: rgba(0, 174, 255, 0.35);
            box-shadow: 0 6px 20px rgba(0, 174, 255, 0.4);
        }

        .feedback {
            font-size: 1rem;
            margin-bottom: 15px;
            min-height: 24px;
        }

        .scoreboard {
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .next-btn {
            display: none;
            padding: 12px 25px;
            border-radius: 15px;
            border: none;
            background: #00aeff;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .next-btn:hover {
            background: #008acc;
        }

        .ecg-container {
            margin-top: 40px;
            height: 50px;
            overflow: hidden;
        }

        .ecg-line {
            width: 200%;
            height: 2px;
            background: #00aeff;
            animation: ecg 1s linear infinite;
        }

        @keyframes ecg {
            0% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-25%);
            }

            50% {
                transform: translateX(-50%);
            }

            75% {
                transform: translateX(-75%);
            }

            100% {
                transform: translateX(-100%);
            }
        }

        #ecgCanvas {
            /* 1. Responsiveness */
            display: block;
            margin: 20px auto;
            border-radius: 5px;

            /* KEY: Force it to fill its container */
            width: 100%;
            /* The height will be controlled by its HTML attribute, but we can cap the max height if needed */
            max-width: 600px;
            /* Limits the max size on huge screens if needed */
            height: 100px;
            /* Fixed height for the canvas container */

            /* 2. Mesh Grid Background (Same successful technique as before) */
            background-color: #111;
            background-image:
                /* Vertical lines */
                linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                /* Horizontal lines */
                linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 15px 15px;
        }


        /* --- New CSS for Hamburger Menu (Add this to your <style> block) --- */

        .nav-toggle {
            display: none;
            /* Hidden by default on large screens */
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 20;
            /* Ensure button is on top of other elements */
        }

        .nav-toggle .bar {
            width: 100%;
            height: 3px;
            background: var(--color-off-white, #e6edf3);
            border-radius: 1px;
            transition: all 0.3s ease-in-out;
            transform-origin: 1px;
        }

        /* ----------------------------------
   Responsive Navigation Logic
   ---------------------------------- */
        @media (max-width: 768px) {

            /* Show Hamburger button */
            .nav-toggle {
                display: flex;
            }

            /* Full navigation menu */
            nav {
                /* Start off-screen */
                position: fixed;
                top: 0;
                right: 0;
                bottom: 0;
                z-index: 10;

                /* Menu appearance */
                width: min(70vw, 300px);
                background: var(--bg, #0f1724);
                padding-top: 80px;
                flex-direction: column;
                gap: 20px;
                box-shadow: -4px 0 10px rgba(0, 0, 0, 0.4);

                /* Transition for sliding effect */
                transform: translateX(100%);
                transition: transform 0.3s ease-out;
            }

            /* State when menu is open */
            nav[data-visible="true"] {
                transform: translateX(0);
            }

            /* Center links in mobile menu */
            nav a {
                padding: 10px 20px;
                width: 100%;
                text-align: center;
            }

            /* Hamburger animation (X icon) */
            .nav-toggle[aria-expanded="true"] .bar:nth-child(1) {
                transform: rotate(45deg);
            }

            .nav-toggle[aria-expanded="true"] .bar:nth-child(2) {
                opacity: 0;
                /* Middle bar disappears */
            }

            .nav-toggle[aria-expanded="true"] .bar:nth-child(3) {
                transform: rotate(-45deg);
            }
        }

        /* Ensure header space is respected */
        @media (max-width: 768px) {
            header {
                position: sticky;
                top: 0;
                background: var(--bg);
                z-index: 30;
                /* Keep it on top of the menu */
                border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            }
        }


        /* .avatar{
      width:100%;height:140px;border-radius:10px;background:linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.3));display:grid;place-items:center;font-size:36px;font-weight:900;font-family:'Playfair Display';
    } */

    </style>
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="mark">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/59/HouseMD-logo.svg" alt="" class="src">
                </div>
                <div>
                    <div style="font-weight:900">HOUSE M.D.</div>
                    <div style="font-size:12px;color:var(--muted);margin-top:2px">A fan-made landing page</div>
                </div>
            </div>

            <nav id="main-nav" data-visible="false" aria-label="Main navigation">
                <a href="#about">About</a>
                <a href="#characters">Characters</a>
                <a href="#diagnostic-game">Diagnostic Game</a>
            </nav>

            <button id="nav-toggle" class="nav-toggle" aria-controls="main-nav" aria-expanded="false" title="Menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
        </header>

        <!-- HERO -->
        <section class="hero">

            <div class="hero-card">
                <h1>Diagnose the impossible.</h1>
                <div class="subtitle">House M.D. ‚Äî brilliant medicine, darker humour, impossible puzzles. A fan showcase with interactive diagnostics and character deep-dives.</div>

                <div class="ecg-wrap">
                    <div class="ecg" aria-hidden="true">
                        <!-- Animated ECG using SVG path animation -->
                        <svg viewBox="0 0 1200 120" preserveAspectRatio="none" role="img" aria-label="Animated diagnostic heartbeat">
                            <defs>
                                <linearGradient id="g1" x1="0" x2="1">
                                    <stop offset="0%" stop-color="#2bd4c6" stop-opacity="0.8" />
                                    <stop offset="70%" stop-color="#e04f5f" stop-opacity="0.9" />
                                </linearGradient>
                            </defs>

                            <path id="wave" fill="none" stroke="url(#g1)" stroke-width="3" d="M0 60 C 70 60, 70 10, 140 10 C 210 10, 210 60, 280 60 C 350 60, 350 60, 420 60 C 490 60, 520 20, 560 20 C 600 20, 620 60, 680 60 C 740 60,780 10,840 10 C900 10,960 60,1020 60 C1080 60,1140 30,1200 30" stroke-linecap="round">
                                <animate attributeName="stroke-dashoffset" from="0" to="1200" dur="4s" repeatCount="indefinite" />
                            </path>
                        </svg>
                    </div>
                </div>

                <div class="stats" aria-hidden="true">
                    <div class="stat">
                        <div class="n">8</div>
                        <div class="l">Seasons</div>
                    </div>
                    <div class="stat">
                        <div class="n">177</div>
                        <div class="l">Episodes</div>
                    </div>
                    <div class="stat">
                        <div class="n">81</div>
                        <div class="l">Million Viewers</div>
                    </div>
                </div>

                <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap">
                    <!-- <button class="btn" id="watch-trailer">Play Trailer (sample)</button> -->
                    <a class="btn" href="#characters">Meet the Team</a>
                </div>
            </div>

            <!-- Sidebar: Quick facts + episodes search -->
            <!-- <aside>
        <div class="hero-card">
          <h3 style="margin:0 0 8px 0">Quick Facts</h3>
          <p class="subtitle">Production-ready components, responsive layout, accessible markup, and a small interactive diagnostic widget.</p>

          <div class="diagnostic" id="diagnostic">
            <strong>Mini Diagnostic</strong>
            <p class="subtitle" style="margin-top:6px">Choose symptoms and let the 'House engine' give a playful differential (toy demo).</p>

            <form id="diag-form" onsubmit="return false">
              <label style="display:block;margin-top:8px;font-size:13px">Symptoms (choose up to 3)</label>
              <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
                <label style="font-size:13px"><input type="checkbox" name="sym" value="fever"> Fever</label>
                <label style="font-size:13px"><input type="checkbox" name="sym" value="cough"> Cough</label>
                <label style="font-size:13px"><input type="checkbox" name="sym" value="rash"> Rash</label>
                <label style="font-size:13px"><input type="checkbox" name="sym" value="fatigue"> Fatigue</label>
                <label style="font-size:13px"><input type="checkbox" name="sym" value="neurol"> Neurological</label>
              </div>

              <div style="margin-top:12px;display:flex;gap:8px">
                <button class="btn" id="diag-run">Run Diagnostic</button>
                <button class="btn" id="diag-clear" type="button" style="background:linear-gradient(90deg,var(--accent-2),#6ef0de)">Clear</button>
              </div>

              <div id="diag-result" style="margin-top:12px;color:var(--muted)"></div>
            </form>
          </div>

          <hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:16px 0" />

          <div>
            <strong style="display:block">Episode Finder</strong>
            <div class="searchbar" style="margin-top:8px">
              <input id="search" type="search" placeholder="Search episode title, season or keyword..." aria-label="Search episodes" />
              <button class="btn" id="search-clear" type="button">Clear</button>
            </div>

            <div class="episodes" id="episode-list">
              
            </div>

          </div>
        </div>
      </aside> -->
        </section>

        <!-- CHARACTERS -->
        <section id="characters">
            <h2 style="font-family:'Playfair Display';font-size:28px;margin:8px 0">Key Characters</h2>
            <p class="subtitle">A quick look at central characters ‚Äî click any card for a short bio.</p>

            <div class="grid" style="margin-top:12px">
                <article class="card" tabindex="0" data-character='{"name":"Dr. Gregory House","role":"Head of Diagnostic Medicine","bio":"Brilliant diagnostician with a damaged leg, caustic humour, and a mistrust of patients."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/d/d9/HouseProfile.png" alt="Dr. Gregory House" class="character-img">
                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. Gregory House</h3>
                        <p class="character-role">Head of Diagnostic Medicine</p>
                    </div>
                </article>

                <article class="card" tabindex="0" data-character='{"name":"Dr. Lisa Cuddy","role":"Dean of Medicine","bio":"Dean of medicine and occasional moral foil to House."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/0/00/Cuddy.jpg" alt="Dr. Lisa Cuddy" class="character-img">
                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. Lisa Cuddy</h3>
                        <p class="character-role">Dean of Medicine</p>
                    </div>
                </article>

                <article class="card" tabindex="0" data-character='{"name":"Dr. James Wilson","role":"Dept. of Oncology","bio":"His only real friend and ethical counterweight."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/7/7c/Drwilson.jpg" alt="Dr. James Wilson" class="character-img">
                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. James Wilson</h3>
                        <p class="character-role">Dept. of Oncology</p>
                    </div>
                </article>

                <article class="card" tabindex="0" data-character='{"name":"Dr. Eric Foreman","role":"Neurology/Diagnostics","bio":"Disciplined and politically savvy member of House' s team."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/0/08/House-season-8-5.jpg" alt="Dr. Eric Foreman" class="character-img">
                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. Eric Foreman</h3>
                        <p class="character-role">Neurology/Diagnostics</p>
                    </div>
                </article>

                <article class="card" tabindex="0" data-character='{"name":"Dr. Allison Cameron","role":"Immunology/Diagnostics","bio":"Idealistic, empathetic physician who often clashes with House' s methods."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/5/59/Cameron.jpg" alt="Dr. Allison Cameron" class="character-img">

                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. Allison Cameron</h3>
                        <p class="character-role">Immunology/Diagnostics</p>
                    </div>
                </article>

                <article class="card" tabindex="0" data-character='{"name":"Dr. Robert Chase","role":"Intensive Care/Surgery","bio":"Skilled surgeon with a complex moral trajectory."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/8/88/Roberto_Chase.jpg" alt="Dr. Robert Chase" class="character-img">
                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. Robert Chase</h3>
                        <p class="character-role">Intensive Care/Surgery</p>
                    </div>
                </article>

                <article class="card" tabindex="0" data-character='{"name":"Dr. Remy Hadley","role":"Internal Medicine","bio":"Thirteen often sees past a lot of the stereotypes that the other doctors have of people."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/d/d7/House_Thirteen.jpg" alt="Dr. Remy Hadley" class="character-img">
                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. Remy Hadley</h3>
                        <p class="character-role">Internal Medicine/Diagnostics</p>
                    </div>
                </article>

                <article class="card" tabindex="0" data-character='{"name":"Dr. Lawrence Kutner","role":"Sports Medicine/Diagnostics","bio":"Brilliant doctor with complex issues who met a tragic end."}'>
                    <div class="character-card">
                        <img src="https://static.wikia.nocookie.net/house/images/4/4e/Lawrencekutner.jpg" alt="Dr. Lawrence Kutner" class="character-img">
                    </div>
                    <div class="meta">
                        <h3 class="character-name">Dr. Lawrence Kutner</h3>
                        <p class="character-role">Sports Medicine Specialist</p>
                    </div>
                </article>

            </div>
        </section>

        <section id="diagnostic-game" class="diagnostic-game">
            <h2>House M.D. Diagnostic Simulator</h2>
            <div id="game-container">
                <div id="patient-info" class="patient-info">
                    <h3 id="patient-name"></h3>
                    <p id="patient-details"></p>
                    <ul id="patient-symptoms"></ul>
                    <ul id="patient-labs"></ul>
                </div>

                <div id="options-container" class="options-container">
                    <!-- Diagnostic options will be injected here -->
                </div>

                <div id="feedback" class="feedback"></div>
                <div id="scoreboard" class="scoreboard">
                    Score: <span id="score">0</span>
                </div>

                <button id="next-patient" class="next-btn">Next Patient</button>
            </div>

            <!-- <div class="ecg" aria-hidden="true">
    <svg viewBox="0 0 1200 120" preserveAspectRatio="none" role="img" aria-label="Animated diagnostic heartbeat">
        <path id="wave" fill="none" stroke="url(#g1)" stroke-width="3" d="M0 60 C 70 60, 70 10, 140 10 C 210 10, 210 60, 280 60 C 350 60, 350 60, 420 60 C 490 60, 520 20, 560 20 C 600 20, 620 60, 680 60 C 740 60,780 10,840 10 C900 10,960 60,1020 60 C1080 60,1140 30,1200 30" stroke-linecap="round">
            <animate attributeName="stroke-dashoffset" from="0" to="1200" dur="4s" repeatCount="indefinite" />
        </path>
    </svg>
</div> -->

            <canvas id="ecgCanvas" width="600" height="100" style="display:block; margin:20px auto; border-radius:5px;"></canvas>


        </section>


        <footer>
            <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
                <div>
                    <strong>House M.D. ‚Äî Fan Page</strong>
                    <div style="font-size:13px;color:var(--muted);margin-top:6px">This is an unofficial fan-made page.<br> All rights to House M.D. and its characters belong to their respective owners.</div>
                </div>

                <div style="text-align:right;color:var(--muted)">
                    <div style="font-size:20px">Built with ‚ô• & üçµ by <a href="iambisrutpyne.github.io">Bisrut Pyne</a></div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Simple accessible modal -->
    <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="panel">
            <button class="close" id="close-modal" aria-label="Close dialog">‚úï</button>
            <h3 id="modal-title"></h3>
            <p id="modal-body" style="color:var(--muted)"></p>
        </div>
    </div>

    <script>
        // character modal
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const closeModal = document.getElementById('close-modal');

        document.querySelectorAll('.card').forEach(card => {
            card.addEventListener('click', () => openCharacter(card.dataset.character));
            card.addEventListener('keydown', (ev) => {
                if (ev.key === 'Enter' || ev.key === ' ') openCharacter(card.dataset.character);
            });
        });

        function openCharacter(json) {
            try {
                const data = JSON.parse(json);
                modalTitle.textContent = data.name;
                modalBody.textContent = data.bio + ' ‚Äî Role: ' + data.role;
                modal.classList.add('open');
                // set focus to close button for accessibility
                closeModal.focus();
            } catch (err) {
                console.error(err)
            }
        }

        closeModal.addEventListener('click', () => modal.classList.remove('open'));
        modal.addEventListener('click', (ev) => {
            if (ev.target === modal) modal.classList.remove('open');
        });


        // ==============================
        // HOUSE M.D. DIAGNOSTIC GAME
        // ==============================

        // Patient data embedded in JS
        function shuffleArray(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        const patients = [{
                name: "Adrian Kline",
                age: 36,
                sex: "Male",
                symptoms: ["Progressive ataxia", "Dysarthria", "Frequent falls", "Subtle mood swings"],
                labs: ["Normal MRI", "Vitamin levels borderline", "CSF negative for infection"],
                options: shuffleArray([{
                        diagnosis: "Spinocerebellar ataxia type 36",
                        correct: true,
                        feedback: "Correct! Rare trinucleotide repeat disorder with subtle early psychiatric features."
                    },
                    {
                        diagnosis: "Multiple system atrophy",
                        correct: false,
                        feedback: "Incorrect. MSA usually presents with autonomic failure early."
                    },
                    {
                        diagnosis: "Wernicke encephalopathy",
                        correct: false,
                        feedback: "Incorrect. Thiamine deficiency usually has nystagmus and ophthalmoplegia acutely."
                    }
                ])
            },
            {
                name: "Beatrice Lang",
                age: 29,
                sex: "Female",
                symptoms: ["Intermittent hypoglycemia", "Sweating spells", "Palpitations", "Mild cognitive fog"],
                labs: ["Insulin low during hypoglycemia", "C-peptide low", "Abdominal imaging normal"],
                options: shuffleArray([{
                        diagnosis: "Noninsulinoma pancreatogenous hypoglycemia syndrome (NIPHS)",
                        correct: true,
                        feedback: "Correct! Functional beta-cell disorder causing endogenous hypoglycemia without tumor."
                    },
                    {
                        diagnosis: "Factitious hypoglycemia",
                        correct: false,
                        feedback: "Incorrect. Insulin and C-peptide low excludes exogenous insulin use."
                    },
                    {
                        diagnosis: "Addison‚Äôs disease",
                        correct: false,
                        feedback: "Incorrect. Hypoglycemia alone without electrolyte abnormalities makes adrenal insufficiency less likely."
                    }
                ])
            },
            {
                name: "Carlos Mendoza",
                age: 45,
                sex: "Male",
                symptoms: ["Progressive dyspnea on exertion", "Mild cyanosis", "Occasional hemoptysis"],
                labs: ["Normal echocardiogram", "Arterial blood gas: PaO2 55 mmHg", "CT angiography normal"],
                options: shuffleArray([{
                        diagnosis: "Pulmonary veno-occlusive disease",
                        correct: true,
                        feedback: "Correct! Rare pulmonary vascular disease causing hypoxemia with normal imaging."
                    },
                    {
                        diagnosis: "Pulmonary embolism",
                        correct: false,
                        feedback: "Incorrect. CTA shows no embolus."
                    },
                    {
                        diagnosis: "Interstitial lung disease",
                        correct: false,
                        feedback: "Incorrect. CT scan is normal."
                    }
                ])
            },
            {
                name: "Dana White",
                age: 33,
                sex: "Female",
                symptoms: ["Episodes of hypertension", "Severe headaches", "Sweating", "Palpitations"],
                labs: ["Plasma metanephrines borderline", "Imaging: no adrenal mass"],
                options: shuffleArray([{
                        diagnosis: "Paraganglioma (extra-adrenal)",
                        correct: true,
                        feedback: "Correct! Catecholamine-secreting tumor outside the adrenal glands can evade standard imaging."
                    },
                    {
                        diagnosis: "Essential hypertension",
                        correct: false,
                        feedback: "Incorrect. Symptoms are episodic, not constant."
                    },
                    {
                        diagnosis: "Hyperthyroidism",
                        correct: false,
                        feedback: "Incorrect. Thyroid labs normal."
                    }
                ])
            },
            {
                name: "Elliot Fraser",
                age: 52,
                sex: "Male",
                symptoms: ["Chronic fatigue", "Muscle cramps", "Mood swings", "Intermittent jaundice"],
                labs: ["Normal liver enzymes", "Plasma ammonia mildly elevated", "Uric acid slightly high"],
                options: shuffleArray([{
                        diagnosis: "Late-onset urea cycle disorder (ornithine transcarbamylase deficiency)",
                        correct: true,
                        feedback: "Correct! Adult-onset OTC deficiency can present subtly with neuropsychiatric and hepatic-like symptoms."
                    },
                    {
                        diagnosis: "Hepatitis C",
                        correct: false,
                        feedback: "Incorrect. Serology negative."
                    },
                    {
                        diagnosis: "Hemochromatosis",
                        correct: false,
                        feedback: "Incorrect. Iron studies are normal."
                    }
                ])
            },
            {
                name: "Felicity Moore",
                age: 40,
                sex: "Female",
                symptoms: ["Intermittent vision changes", "Transient weakness in limbs", "Confusion episodes", "Nausea"],
                labs: ["MRI brain normal", "CSF mildly elevated protein", "No autoantibodies"],
                options: shuffleArray([{
                        diagnosis: "HaNDL syndrome (Headache with Neurologic Deficits and CSF Lymphocytosis)",
                        correct: true,
                        feedback: "Correct! Rare syndrome with transient neurologic deficits and mild CSF abnormalities."
                    },
                    {
                        diagnosis: "Migraine with aura",
                        correct: false,
                        feedback: "Incorrect. Migraine rarely causes limb weakness with CSF changes."
                    },
                    {
                        diagnosis: "Multiple sclerosis",
                        correct: false,
                        feedback: "Incorrect. MRI is normal."
                    }
                ])
            },
            {
                name: "Gideon Park",
                age: 47,
                sex: "Male",
                symptoms: ["Severe night sweats", "Unexplained anemia", "Low-grade fevers", "Splenomegaly"],
                labs: ["Peripheral smear normal", "Bone marrow: hemophagocytosis present", "Ferritin extremely high"],
                options: shuffleArray([{
                        diagnosis: "Adult-onset hemophagocytic lymphohistiocytosis (HLH)",
                        correct: true,
                        feedback: "Correct! Rare hyperinflammatory syndrome in adults presenting with cytopenias and systemic inflammation."
                    },
                    {
                        diagnosis: "Chronic leukemia",
                        correct: false,
                        feedback: "Incorrect. Blood counts do not show typical leukemic changes."
                    },
                    {
                        diagnosis: "Tuberculosis",
                        correct: false,
                        feedback: "Incorrect. No infectious etiology confirmed."
                    }
                ])
            },
            {
                name: "Helena Voss",
                age: 39,
                sex: "Female",
                symptoms: ["Recurrent pneumonia", "Bronchiectasis", "Infertility", "Sinus infections"],
                labs: ["Sweat chloride borderline", "Genetic testing inconclusive", "Ciliary biopsy abnormal"],
                options: shuffleArray([{
                        diagnosis: "Primary ciliary dyskinesia",
                        correct: true,
                        feedback: "Correct! Rare congenital disorder affecting motile cilia, causing respiratory and fertility problems."
                    },
                    {
                        diagnosis: "Cystic fibrosis",
                        correct: false,
                        feedback: "Incorrect. Genetic tests inconclusive; presentation suggests ciliary defect instead."
                    },
                    {
                        diagnosis: "Immunodeficiency",
                        correct: false,
                        feedback: "Incorrect. Immunoglobulins normal."
                    }
                ])
            },
            {
                name: "Isaac Romero",
                age: 50,
                sex: "Male",
                symptoms: ["Progressive numbness in feet", "Balance issues", "Blurred vision", "Cardiac arrhythmias"],
                labs: ["Vitamin B12 normal", "Methylmalonic acid elevated", "Homocysteine elevated"],
                options: shuffleArray([{
                        diagnosis: "Methylmalonic acidemia presenting in adulthood",
                        correct: true,
                        feedback: "Correct! Rare metabolic disorder causing neuropathy, visual issues, and cardiac manifestations even in adults."
                    },
                    {
                        diagnosis: "Diabetic neuropathy",
                        correct: false,
                        feedback: "Incorrect. No diabetes history; labs indicate metabolic origin."
                    },
                    {
                        diagnosis: "Peripheral vascular disease",
                        correct: false,
                        feedback: "Incorrect. Symptoms are neuropathic, not ischemic."
                    }
                ])
            },
            {
                name: "Jocelyn Frost",
                age: 43,
                sex: "Female",
                symptoms: ["Intermittent psychosis", "Autonomic instability", "Profuse sweating", "Fluctuating blood pressure"],
                labs: ["Urinary catecholamines normal", "No structural lesions on imaging", "Genetic panel inconclusive"],
                options: shuffleArray([{
                        diagnosis: "Autoimmune encephalitis (anti-LGI1)",
                        correct: true,
                        feedback: "Correct! Rare autoimmune disorder with subtle neuropsychiatric and autonomic symptoms."
                    },
                    {
                        diagnosis: "Schizophrenia",
                        correct: false,
                        feedback: "Incorrect. Onset and episodic autonomic features suggest organic cause."
                    },
                    {
                        diagnosis: "Pheochromocytoma",
                        correct: false,
                        feedback: "Incorrect. Catecholamines normal."
                    }
                ])
            }
        ];




        // State variables
        let currentPatient = 0;
        let score = 0;

        // DOM elements
        const patientName = document.getElementById('patient-name');
        const patientDetails = document.getElementById('patient-details');
        const patientSymptoms = document.getElementById('patient-symptoms');
        const patientLabs = document.getElementById('patient-labs');
        const optionsContainer = document.getElementById('options-container');
        const feedback = document.getElementById('feedback');
        const scoreboard = document.getElementById('score');
        const nextBtn = document.getElementById('next-patient');

        // Load a patient
        function loadPatient() {
            const patient = patients[currentPatient];

            // Clear previous
            feedback.textContent = '';
            optionsContainer.innerHTML = '';
            nextBtn.style.display = 'none';

            // Display patient info
            patientName.textContent = patient.name;
            patientDetails.textContent = `${patient.sex}, ${patient.age} years old`;

            patientSymptoms.innerHTML = '';
            patient.symptoms.forEach(s => {
                const li = document.createElement('li');
                li.textContent = `Symptom: ${s}`;
                patientSymptoms.appendChild(li);
            });

            patientLabs.innerHTML = '';
            patient.labs.forEach(l => {
                const li = document.createElement('li');
                li.textContent = `Lab: ${l}`;
                patientLabs.appendChild(li);
            });

            // Display options
            patient.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.classList.add('option-btn');
                btn.textContent = opt.diagnosis;
                btn.addEventListener('click', () => selectOption(opt));
                optionsContainer.appendChild(btn);
            });
        }

        // Handle option selection
        function selectOption(option) {
            feedback.textContent = option.feedback;
            if (option.correct) {
                score += 1;
                scoreboard.textContent = score;
            }
            nextBtn.style.display = 'inline-block';
        }

        // Handle next patient
        nextBtn.addEventListener('click', () => {
            currentPatient++;
            if (currentPatient >= patients.length) {
                alert(`Simulation complete! Final score: ${score} / ${patients.length}`);
                currentPatient = 0;
                score = 0;
                scoreboard.textContent = score;
            }
            loadPatient();
        });

        // Initialize game
        loadPatient();



        // ready
        document.addEventListener('DOMContentLoaded', () => {
            // small micro-interaction: animate the mark
            document.querySelector('.mark').classList.add('float');
        });

        const canvas = document.getElementById('ecgCanvas');
        const ctx = canvas.getContext('2d');

        let width; // Will be set dynamically
        let height; // Will be set dynamically

        let x = 0;
        let points = [];
        let ecgSpeed = 2;
        let heartbeatMultiplier = 1;

        // --- 1. NEW: Resize Observer and Function ---
        function resizeCanvas() {
            // Get the actual computed size from CSS
            const rect = canvas.getBoundingClientRect();

            // Set the internal drawing surface dimensions
            canvas.width = rect.width;
            canvas.height = rect.height;

            width = canvas.width;
            height = canvas.height;
        }

        // Attach event listeners for responsiveness
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas(); // Run once on load to initialize dimensions

        // --- 2. Existing ECG Drawing Logic (Updated to use dynamic dimensions) ---

        // Function to simulate ECG point
        function generateECGPoint(pos) {
            // Adjust logic to use dynamic 'height'
            const t = pos / 20;
            let value = 0;

            // Use a smaller multiplier as the height might be smaller than the fixed 100
            const amplitude = height / 5;

            if ((t % 6) < 1) value = Math.sin(t * Math.PI * 2) * amplitude * 0.2; // P wave
            else if ((t % 6) < 1.5) value = amplitude * Math.sin((t - 1) * Math.PI * 6) * heartbeatMultiplier; // QRS spike
            else if ((t % 6) < 2) value = -amplitude * 0.5 * Math.sin((t - 1.5) * Math.PI * 2) * heartbeatMultiplier; // S dip
            else value = 0;

            return height / 2 - value;
        }

        // Function to trigger heartbeat spike
        function spikeHeartbeat(intensity = 2, duration = 200) {
            heartbeatMultiplier = intensity;
            setTimeout(() => heartbeatMultiplier = 1, duration);
        }

        // Draw ECG frame
        function drawECG() {
            // Clear the drawing context (essential for animation)
            ctx.clearRect(0, 0, width, height);

            // Maintain the point array size relative to the current width
            if (points.length > width) points.shift();

            points.push(generateECGPoint(x));

            ctx.beginPath();
            ctx.strokeStyle = "#00fffc";
            ctx.lineWidth = 2;

            // Draw the entire line
            ctx.moveTo(0, points[0]);
            for (let i = 1; i < points.length; i++) {
                // Draw the line from left-to-right
                ctx.lineTo(i, points[i]);
            }
            ctx.stroke();

            x += ecgSpeed;
            // Reset x and points array if it gets too large (performance check)
            if (x > 10000) {
                x = 0;
                points = [];
            }

            requestAnimationFrame(drawECG);
        }

        // Start the drawing loop
        drawECG();

        // Set up the heartbeat spike interval
        setInterval(() => {
            spikeHeartbeat(2.5, 150);
        }, 1500);

        // ==============================
        // Responsive Navbar Toggle
        // ==============================

        const navToggle = document.getElementById('nav-toggle');
        const mainNav = document.getElementById('main-nav');
        const navLinks = mainNav.querySelectorAll('a');

        function toggleNav() {
            const isVisible = mainNav.getAttribute('data-visible') === 'true';

            // Toggle the attributes
            mainNav.setAttribute('data-visible', !isVisible);
            navToggle.setAttribute('aria-expanded', !isVisible);
        }

        // 1. Listen for button click
        navToggle.addEventListener('click', toggleNav);

        // 2. Listen for link clicks to close the menu (best practice for mobile UX)
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                // Only close if it's currently open (i.e., on mobile)
                if (mainNav.getAttribute('data-visible') === 'true') {
                    toggleNav();
                }
            });
        });

    </script>
</body>

</html>
